# Taromine - å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶é¡¹ç›®æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: Taromine  
**ç‰ˆæœ¬**: 1.0.0  
**æè¿°**: åŸºäº Taro å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶çš„ React TypeScript å…¥é—¨å­¦ä¹ ç¤ºä¾‹ï¼Œæ¨¡ä»¿ TodoMVCï¼Œæ”¯æŒå¾®ä¿¡å°ç¨‹åºã€H5 ç­‰å¤šä¸ªå¹³å°ã€‚

### ğŸ¯ é¡¹ç›®ç‰¹è‰²

- **å¤šç«¯é€‚é…**: ä¸€å¥—ä»£ç ï¼Œå¤šç«¯è¿è¡Œï¼Œæ”¯æŒå¾®ä¿¡å°ç¨‹åºã€H5ã€æ”¯ä»˜å®å°ç¨‹åºã€å­—èŠ‚è·³åŠ¨å°ç¨‹åºã€QQ å°ç¨‹åºã€äº¬ä¸œå°ç¨‹åºç­‰
- **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: ä½¿ç”¨ React 18 + TypeScript + Redux Toolkit çš„ç°ä»£åŒ–å¼€å‘ä½“éªŒ
- **å®Œæ•´çš„ç»„ä»¶ç”Ÿæ€**: é›†æˆ Taroify ç»„ä»¶åº“ï¼Œæä¾›ä¸°å¯Œçš„ UI ç»„ä»¶
- **æ ·å¼è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ TailwindCSS + Sassï¼Œæ”¯æŒå“åº”å¼è®¾è®¡
- **çŠ¶æ€ç®¡ç†**: åŸºäº Redux Toolkit çš„ç°ä»£åŒ–çŠ¶æ€ç®¡ç†
- **GraphQL æ”¯æŒ**: é›†æˆ GraphQL ä»£ç ç”Ÿæˆå’Œ URQL å®¢æˆ·ç«¯
- **å¼€å‘ä½“éªŒä¼˜åŒ–**: æ”¯æŒçƒ­é‡è½½ã€TypeScript ç±»å‹æ£€æŸ¥ã€ESLint ä»£ç è§„èŒƒ

### ğŸ›  æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Taro** | 4.1.6 | å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶ |
| **React** | ^18.1 | å‰ç«¯ UI æ¡†æ¶ |
| **TypeScript** | ^5.9.2 | ç±»å‹å®‰å…¨çš„ JavaScript è¶…é›† |
| **Redux Toolkit** | ^2.9.0 | ç°ä»£åŒ–çŠ¶æ€ç®¡ç† |
| **Taroify** | ^0.9.0 | åŸºäº Taro çš„ UI ç»„ä»¶åº“ |
| **TailwindCSS** | ^4.1.13 | åŸå­åŒ– CSS æ¡†æ¶ |
| **GraphQL** | ^16.11.0 | æ•°æ®æŸ¥è¯¢è¯­è¨€ |
| **URQL** | ^5.0.1 | GraphQL å®¢æˆ·ç«¯ |

## ğŸ— é¡¹ç›®æ¶æ„

### ç›®å½•ç»“æ„

```
taromine-taroify/
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ app.config.ts            # åº”ç”¨é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ app.tsx                  # åº”ç”¨å…¥å£ç»„ä»¶
â”‚   â”œâ”€â”€ app.scss                 # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ components/              # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ card.tsx            # å¡ç‰‡ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ header.tsx          # å¤´éƒ¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ main.tsx            # ä¸»ä½“ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ footer.tsx          # åº•éƒ¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ item.tsx            # åˆ—è¡¨é¡¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ todoTextInput.tsx   # Todo è¾“å…¥ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ...                 # å…¶ä»–ç»„ä»¶
â”‚   â”œâ”€â”€ pages/                   # é¡µé¢ç›®å½•
â”‚   â”‚   â”œâ”€â”€ index/              # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx       # é¦–é¡µç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ index.config.ts # é¦–é¡µé…ç½®
â”‚   â”‚   â””â”€â”€ examples/           # ç¤ºä¾‹é¡µé¢
â”‚   â”‚       â”œâ”€â”€ counters.tsx    # è®¡æ•°å™¨ç¤ºä¾‹
â”‚   â”‚       â”œâ”€â”€ todoMVC.tsx     # TodoMVC ç¤ºä¾‹
â”‚   â”‚       â””â”€â”€ form/           # è¡¨å•ç¤ºä¾‹
â”‚   â”œâ”€â”€ store/                   # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ index.ts            # Store é…ç½®
â”‚   â”‚   â”œâ”€â”€ counterSlice.ts     # è®¡æ•°å™¨çŠ¶æ€åˆ‡ç‰‡
â”‚   â”‚   â””â”€â”€ todosSlice.ts       # Todo çŠ¶æ€åˆ‡ç‰‡
â”‚   â”œâ”€â”€ gql/                     # GraphQL ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ index.ts            # GraphQL å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ gql.ts              # ç”Ÿæˆçš„ GraphQL ä»£ç 
â”‚   â”‚   â””â”€â”€ graphql.ts          # GraphQL ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ schema/                  # æ•°æ®æ¨¡å¼
â”‚   â”‚   â””â”€â”€ home.ts             # é¦–é¡µæ•°æ®æ¨¡å¼
â”‚   â””â”€â”€ constants/               # å¸¸é‡å®šä¹‰
â”‚       â””â”€â”€ todo-filter.ts      # Todo è¿‡æ»¤å™¨å¸¸é‡
â”œâ”€â”€ config/                      # æ„å»ºé…ç½®
â”‚   â”œâ”€â”€ index.ts                # ä¸»é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ dev.ts                  # å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ prod.ts                 # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ dist/                        # æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ types/                       # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ package.json                 # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â”œâ”€â”€ babel.config.js             # Babel é…ç½®
â”œâ”€â”€ postcss.config.mjs          # PostCSS é…ç½®
â””â”€â”€ project.config.json         # å°ç¨‹åºé¡¹ç›®é…ç½®
```

### æ¨¡å—åˆ’åˆ†

#### 1. æ ¸å¿ƒåº”ç”¨æ¨¡å— (`src/app.*`)
- **app.tsx**: åº”ç”¨æ ¹ç»„ä»¶ï¼Œé…ç½® Redux Provider å’Œ GraphQL Client
- **app.config.ts**: åº”ç”¨å…¨å±€é…ç½®ï¼Œå®šä¹‰é¡µé¢è·¯ç”±å’Œåˆ†åŒ…ç­–ç•¥
- **app.scss**: å…¨å±€æ ·å¼å¯¼å…¥ï¼ŒåŒ…å« Taroify ç»„ä»¶åº“æ ·å¼

#### 2. é¡µé¢æ¨¡å— (`src/pages/`)
- **index**: é¦–é¡µæ¨¡å—ï¼Œå±•ç¤ºé¡¹ç›®åŠŸèƒ½å’Œå¯¼èˆª
- **examples**: ç¤ºä¾‹é¡µé¢é›†åˆ
  - `counters.tsx`: Redux è®¡æ•°å™¨ç¤ºä¾‹
  - `todoMVC.tsx`: TodoMVC åº”ç”¨ç¤ºä¾‹
  - `form/`: è¡¨å•å¤„ç†ç¤ºä¾‹

#### 3. ç»„ä»¶æ¨¡å— (`src/components/`)
- **é€šç”¨ç»„ä»¶**: å¯å¤ç”¨çš„ UI ç»„ä»¶
- **ä¸šåŠ¡ç»„ä»¶**: ç‰¹å®šåŠŸèƒ½çš„ç»„ä»¶ï¼ˆå¦‚ TodoTextInputï¼‰
- **å¸ƒå±€ç»„ä»¶**: é¡µé¢å¸ƒå±€ç›¸å…³ç»„ä»¶ï¼ˆHeaderã€Mainã€Footerï¼‰

#### 4. çŠ¶æ€ç®¡ç†æ¨¡å— (`src/store/`)
- **Redux Toolkit é…ç½®**: ç°ä»£åŒ–çš„ Redux çŠ¶æ€ç®¡ç†
- **Slice æ¨¡å¼**: å°†çŠ¶æ€å’Œ reducer ç»„ç»‡åœ¨ä¸€èµ·
- **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript ç±»å‹æ”¯æŒ

#### 5. GraphQL æ¨¡å— (`src/gql/`)
- **ä»£ç ç”Ÿæˆ**: åŸºäº schema è‡ªåŠ¨ç”Ÿæˆ TypeScript ç±»å‹
- **å®¢æˆ·ç«¯é…ç½®**: URQL GraphQL å®¢æˆ·ç«¯é›†æˆ
- **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ GraphQL æ“ä½œç±»å‹å®šä¹‰

### æŠ€æœ¯æ¶æ„ç‰¹ç‚¹

#### å¤šç«¯é€‚é…ç­–ç•¥
- **ç»Ÿä¸€ä»£ç åº“**: ä¸€å¥—ä»£ç é€‚é…å¤šä¸ªå¹³å°
- **å¹³å°å·®å¼‚å¤„ç†**: é€šè¿‡ Taro çš„æ¡ä»¶ç¼–è¯‘å¤„ç†å¹³å°ç‰¹æ€§
- **ç»„ä»¶æŠ½è±¡**: ä½¿ç”¨ Taro ç»„ä»¶æŠ½è±¡å±‚å±è”½å¹³å°å·®å¼‚

#### çŠ¶æ€ç®¡ç†æ¶æ„
- **Redux Toolkit**: ç°ä»£åŒ–çš„ Redux å¼€å‘ä½“éªŒ
- **Slice æ¨¡å¼**: å°†ç›¸å…³çš„çŠ¶æ€å’Œ reducer ç»„ç»‡åœ¨ä¸€èµ·
- **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript ç±»å‹æ¨å¯¼

#### æ ·å¼è§£å†³æ–¹æ¡ˆ
- **TailwindCSS**: åŸå­åŒ– CSS æ¡†æ¶ï¼Œæ”¯æŒå“åº”å¼è®¾è®¡
- **weapp-tailwindcss**: è§£å†³å°ç¨‹åºå¹³å°çš„ TailwindCSS å…¼å®¹æ€§
- **Sass**: æ”¯æŒä¼ ç»Ÿçš„ CSS é¢„å¤„ç†å™¨
- **ç»„ä»¶åº“æ ·å¼**: Taroify æä¾›çš„ç°æˆ UI ç»„ä»¶æ ·å¼

## ğŸš€ å¼€å‘ç¯å¢ƒé…ç½®

### ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 16.0.0 (æ¨èä½¿ç”¨ LTS ç‰ˆæœ¬)
- **åŒ…ç®¡ç†å™¨**: pnpm (æ¨è) æˆ– npm/yarn
- **Taro CLI**: å…¨å±€å®‰è£… Taro å‘½ä»¤è¡Œå·¥å…·

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd taromine-taroify
```

#### 2. å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ pnpm (æ¨è)
pnpm install

# æˆ–ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨ yarn
yarn install
```

#### 3. å…¨å±€å®‰è£… Taro CLI

```bash
# ä½¿ç”¨ npm
npm install -g @tarojs/cli

# æˆ–ä½¿ç”¨ pnpm
pnpm add -g @tarojs/cli
```

#### 4. å¼€å‘ç¯å¢ƒå¯åŠ¨

```bash
# H5 å¼€å‘æ¨¡å¼
pnpm dev:h5

# å¾®ä¿¡å°ç¨‹åºå¼€å‘æ¨¡å¼
pnpm dev:weapp

# æ”¯ä»˜å®å°ç¨‹åºå¼€å‘æ¨¡å¼
pnpm dev:alipay

# å­—èŠ‚è·³åŠ¨å°ç¨‹åºå¼€å‘æ¨¡å¼
pnpm dev:tt

# QQ å°ç¨‹åºå¼€å‘æ¨¡å¼
pnpm dev:qq
```

#### 5. ç”Ÿäº§ç¯å¢ƒæ„å»º

```bash
# H5 ç”Ÿäº§æ„å»º
pnpm build:h5

# å¾®ä¿¡å°ç¨‹åºç”Ÿäº§æ„å»º
pnpm build:weapp

# æ”¯ä»˜å®å°ç¨‹åºç”Ÿäº§æ„å»º
pnpm build:alipay

# å…¶ä»–å¹³å°æ„å»º
pnpm build:tt
pnpm build:qq
pnpm build:jd
```

### å¼€å‘å·¥å…·é…ç½®

#### å¾®ä¿¡å¼€å‘è€…å·¥å…·
1. ä¸‹è½½å¹¶å®‰è£…å¾®ä¿¡å¼€å‘è€…å·¥å…·
2. å¯¼å…¥é¡¹ç›®ç›®å½•ä¸­çš„ `dist` æ–‡ä»¶å¤¹
3. é¡¹ç›®é…ç½®æ–‡ä»¶ï¼š`project.config.json`

#### VS Code æ¨èæ’ä»¶
- **Taro**: Taro å¼€å‘æ”¯æŒ
- **ES7+ React/Redux/React-Native snippets**: React ä»£ç ç‰‡æ®µ
- **Tailwind CSS IntelliSense**: TailwindCSS æ™ºèƒ½æç¤º
- **TypeScript Importer**: TypeScript è‡ªåŠ¨å¯¼å…¥
- **Prettier**: ä»£ç æ ¼å¼åŒ–
- **ESLint**: ä»£ç è§„èŒƒæ£€æŸ¥

### ç¯å¢ƒå˜é‡é…ç½®

é¡¹ç›®æ”¯æŒå¤šç¯å¢ƒé…ç½®ï¼Œé€šè¿‡ä»¥ä¸‹æ–‡ä»¶ç®¡ç†ï¼š

- `config/dev.ts`: å¼€å‘ç¯å¢ƒé…ç½®
- `config/prod.ts`: ç”Ÿäº§ç¯å¢ƒé…ç½®
- `config/index.ts`: é€šç”¨é…ç½®

#### GraphQL æœåŠ¡é…ç½®

å¼€å‘ç¯å¢ƒé»˜è®¤ä»£ç†é…ç½®ï¼š
```typescript
// config/dev.ts
h5: {
  devServer: {
    proxy: {
      '/graphql': {
        target: 'http://localhost:3000',
        changeOrigin: true,
        secure: false,
      },
    },
  },
}
```

## ğŸ”§ æ ¸å¿ƒæŠ€æœ¯æ ˆè¯¦è§£

### Taro æ¡†æ¶é…ç½®

#### åŸºç¡€é…ç½® (`config/index.ts`)

```typescript
export default defineConfig<'webpack5'>(async (merge, { command, mode }) => {
  const baseConfig: UserConfigExport<'webpack5'> = {
    projectName: 'myApp',
    framework: 'react',
    compiler: { type: 'webpack5', prebundle: { enable: true } },
    designWidth: 750,
    deviceRatio: {
      640: 2.34 / 2,
      750: 1,
      375: 2,
      828: 1.81 / 2,
    },
    // å¤šç«¯é…ç½®
    mini: { /* å°ç¨‹åºé…ç½® */ },
    h5: { /* H5 é…ç½® */ },
    rn: { /* React Native é…ç½® */ }
  }
})
```

#### å¤šç«¯é€‚é…é…ç½®

**å°ç¨‹åºé…ç½®**ï¼š
- æ”¯æŒå¾®ä¿¡ã€æ”¯ä»˜å®ã€å­—èŠ‚è·³åŠ¨ã€QQã€äº¬ä¸œå°ç¨‹åº
- è‡ªåŠ¨å¤„ç† rpx å•ä½è½¬æ¢
- TailwindCSS å°ç¨‹åºé€‚é…

**H5 é…ç½®**ï¼š
- Webpack 5 æ„å»ºä¼˜åŒ–
- æ”¯æŒç°ä»£æµè§ˆå™¨ç‰¹æ€§
- å¼€å‘æœåŠ¡å™¨ä»£ç†é…ç½®

### Redux Toolkit çŠ¶æ€ç®¡ç†

#### Store é…ç½®

```typescript
// src/store/index.ts
import { configureStore } from '@reduxjs/toolkit'
import counterReducer from './counterSlice'
import todosReducer from './todosSlice'

export const store = configureStore({
  reducer: { 
    counter: counterReducer, 
    todos: todosReducer 
  },
})

export type RootState = ReturnType<typeof store.getState>
export type AppDispatch = typeof store.dispatch
```

#### Slice æ¨¡å¼ç¤ºä¾‹

```typescript
// src/store/counterSlice.ts
export const counterSlice = createSlice({
  name: 'counter',
  initialState: { value: 0 },
  reducers: {
    increment: (state) => {
      state.value += 1
    },
    decrement: (state) => {
      state.value -= 1
    },
  },
})
```

#### ç±»å‹å®‰å…¨çš„ Hooks

```typescript
export const useAppDispatch = useDispatch.withTypes<AppDispatch>()
export const useAppSelector = useSelector.withTypes<RootState>()
```

### Taroify ç»„ä»¶åº“

#### ç»„ä»¶å¯¼å…¥é…ç½®

```javascript
// babel.config.js
plugins: [
  [
    'import',
    {
      libraryName: '@taroify/core',
      libraryDirectory: '',
      style: false, // é¿å…ä¸ weapp-tailwindcss å†²çª
    },
    '@taroify/core',
  ],
]
```

#### æ ·å¼å¯¼å…¥

```typescript
// src/app.tsx
import '@taroify/icons/index.scss'
import '@taroify/core/index.scss'
```

#### å¸¸ç”¨ç»„ä»¶ç¤ºä¾‹

```tsx
import { Button, ConfigProvider, Flex } from '@taroify/core'

function App() {
  return (
    <ConfigProvider>
      <Flex gutter={16}>
        <Flex.Item span={8}>
          <Button color="primary">æŒ‰é’®</Button>
        </Flex.Item>
      </Flex>
    </ConfigProvider>
  )
}
```

### TailwindCSS é…ç½®

#### PostCSS é…ç½®

```javascript
// postcss.config.mjs
export default {
  plugins: {
    '@tailwindcss/postcss': {},
  },
}
```

#### å°ç¨‹åºé€‚é…é…ç½®

```javascript
// config/index.ts
import { UnifiedWebpackPluginV5 } from 'weapp-tailwindcss/webpack'

webpackChain(chain) {
  chain.merge({
    plugin: {
      install: {
        plugin: UnifiedWebpackPluginV5,
        args: [{
          disabled: WeappTailwindcssDisabled,
          rem2rpx: true,
          injectAdditionalCssVarScope: true,
        }],
      },
    },
  })
}
```

### GraphQL é›†æˆ

#### ä»£ç ç”Ÿæˆé…ç½®

```typescript
// codegen.ts
const config: CodegenConfig = {
  schema: "http://localhost:3000/graphql",
  documents: ["src/schema/*.graphql", "src/schema/*.ts"],
  generates: {
    "./src/gql/": {
      preset: "client",
      config: {
        useTypeImports: true,
      },
    },
  },
}
```

#### URQL å®¢æˆ·ç«¯é…ç½®

```typescript
// src/app.tsx
import { Client, Provider as UrqlProvider, cacheExchange, fetchExchange } from 'urql'

const client = new Client({
  url: '/graphql',
  exchanges: [cacheExchange, fetchExchange],
})

function App({ children }) {
  return (
    <UrqlProvider value={client}>
      {children}
    </UrqlProvider>
  )
}
```

### TypeScript é…ç½®

#### ç¼–è¯‘é€‰é¡¹

```json
// tsconfig.json
{
  "compilerOptions": {
    "target": "es2017",
    "module": "commonjs",
    "jsx": "react-jsx",
    "strict": true,
    "baseUrl": ".",
    "paths": {
      "~/*": ["./src/*"]
    }
  }
}
```

#### è·¯å¾„åˆ«åé…ç½®

```typescript
// config/index.ts
import TsconfigPathsPlugin from 'tsconfig-paths-webpack-plugin'

webpackChain(chain) {
  chain.resolve.plugin('tsconfig-paths').use(TsconfigPathsPlugin)
}
```

## ğŸ“¦ ç»„ä»¶æ¶æ„ä¸é¡µé¢ç»“æ„

### é¡µé¢ç»„ä»¶è¯¦è§£

#### 1. é¦–é¡µ (`src/pages/index/index.tsx`)

é¦–é¡µä½œä¸ºåº”ç”¨çš„å…¥å£é¡µé¢ï¼Œå±•ç¤ºäº†é¡¹ç›®çš„ä¸»è¦åŠŸèƒ½å’Œå¯¼èˆªï¼š

```tsx
function Index() {
  return (
    <ConfigProvider>
      {/* GraphQL ç¤ºä¾‹ç»„ä»¶ */}
      <CommentExample />
      
      {/* æ ‘å½¢é€‰æ‹©ç»„ä»¶ */}
      <RadioTreeSelect />
      
      {/* å¡ç‰‡ç»„ä»¶å±•ç¤º */}
      <View className='flex flex-cols-2'>
        <Card></Card>
        <Card></Card>
      </View>
      
      {/* å¯¼èˆªæŒ‰é’® */}
      <Flex gutter={16} className='p-4'>
        <Flex.Item span={8}>
          <Button onClick={() => Taro.navigateTo({ url: '/pages/examples/form/form' })}>
            Taroify Form
          </Button>
        </Flex.Item>
        {/* æ›´å¤šå¯¼èˆªæŒ‰é’®... */}
      </Flex>
    </ConfigProvider>
  )
}
```

**åŠŸèƒ½ç‰¹ç‚¹**ï¼š
- é›†æˆå¤šç§ç»„ä»¶å±•ç¤º
- æä¾›åº”ç”¨å†…å¯¼èˆª
- å±•ç¤º TailwindCSS æ ·å¼æ•ˆæœ
- GraphQL æ•°æ®è·å–ç¤ºä¾‹

#### 2. è®¡æ•°å™¨é¡µé¢ (`src/pages/examples/counters.tsx`)

Redux çŠ¶æ€ç®¡ç†çš„ç®€å•ç¤ºä¾‹ï¼š

```tsx
export default function Counter() {
  const count = useAppSelector((state) => state.counter.value)
  const dispatch = useAppDispatch()

  return (
    <View className='mt-10 mx-auto'>
      <View className='flex flex-row justify-center gap-4'>
        <Button onClick={() => dispatch(increment())}>
          Increment
        </Button>
        {count}
        <Button onClick={() => dispatch(decrement())}>
          Decrement
        </Button>
      </View>
    </View>
  )
}
```

**æŠ€æœ¯è¦ç‚¹**ï¼š
- Redux Toolkit çŠ¶æ€ç®¡ç†
- ç±»å‹å®‰å…¨çš„ Hooks ä½¿ç”¨
- Taroify ç»„ä»¶é›†æˆ
- TailwindCSS å“åº”å¼å¸ƒå±€

#### 3. TodoMVC é¡µé¢ (`src/pages/examples/todoMVC.tsx`)

å®Œæ•´çš„ TodoMVC åº”ç”¨å®ç°ï¼š

```tsx
export default function Counter() {
  return (
    <View className='bg-neutral-100 shadow-black/20 shadow-sm'>
      <Header />
      <Main />
    </View>
  )
}
```

**ç»„ä»¶ç»“æ„**ï¼š
- **Header**: æ ‡é¢˜å’Œæ–°å¢ Todo è¾“å…¥
- **Main**: Todo åˆ—è¡¨å’Œè¿‡æ»¤åŠŸèƒ½
- **Footer**: ç»Ÿè®¡ä¿¡æ¯å’Œæ‰¹é‡æ“ä½œ

### æ ¸å¿ƒç»„ä»¶è¯¦è§£

#### 1. Header ç»„ä»¶ (`src/components/header.tsx`)

```tsx
const Header = () => {
  const dispatch = useAppDispatch()

  const onSaveHandler = (text: string) => {
    if (text.length !== 0) {
      dispatch(addTodo(text))
    }
  }

  return (
    <View>
      <View className='py-2 text-center'>
        <Text className='font-bold text-2xl'>todos</Text>
      </View>
      <TodoTextInput onSave={onSaveHandler} placeholder='What needs to be done?' />
    </View>
  )
}
```

#### 2. Main ç»„ä»¶ (`src/components/main.tsx`)

```tsx
export default function Main() {
  const todos = useAppSelector((state) => state.todos)
  const [visibilityFilter, setVisibilityFilter] = useState(VisibilityFilter.SHOW_ALL)

  const visibleTodos = useMemo(() => {
    switch (visibilityFilter) {
      case VisibilityFilter.SHOW_ALL:
        return todos
      case VisibilityFilter.SHOW_ACTIVE:
        return todos.filter((todo) => !todo.completed)
      case VisibilityFilter.SHOW_COMPLETED:
        return todos.filter((todo) => todo.completed)
      default:
        return todos
    }
  }, [todos, visibilityFilter])

  return (
    <main>
      <View className='p-1'>
        {visibleTodos.map((todo) => (
          <Item key={todo.id} todo={todo} />
        ))}
      </View>
      <Footer /* props */ />
    </main>
  )
}
```

#### 3. TodoTextInput ç»„ä»¶ (`src/components/todoTextInput.tsx`)

å¯å¤ç”¨çš„æ–‡æœ¬è¾“å…¥ç»„ä»¶ï¼Œæ”¯æŒï¼š
- å—æ§ç»„ä»¶æ¨¡å¼
- é”®ç›˜äº‹ä»¶å¤„ç†
- è‡ªåŠ¨èšç„¦åŠŸèƒ½
- æ ·å¼å®šåˆ¶

### çŠ¶æ€ç®¡ç†æ¶æ„

#### Todo çŠ¶æ€åˆ‡ç‰‡

```typescript
export interface TodoState {
  id: string
  todotext: string
  completed: boolean
}

export const TodosSlice = createSlice({
  name: 'todos',
  initialState: [] as TodoState[],
  reducers: {
    addTodo: (state, action: PayloadAction<string>) => {
      state.push({ 
        id: action.payload, 
        todotext: action.payload, 
        completed: false 
      })
    },
    deleteTodo: (state, action: PayloadAction<string>) => {
      return state.filter((todo) => todo.id !== action.payload)
    },
    toggleTodo: (state, action: PayloadAction<string>) => {
      const todo = state.find((todo) => todo.id === action.payload)
      if (todo) {
        todo.completed = !todo.completed
      }
    },
    // æ›´å¤š reducers...
  },
})
```

### æ ·å¼æ¶æ„

#### TailwindCSS ä½¿ç”¨æ¨¡å¼

```tsx
// å“åº”å¼è®¾è®¡
<View className='flex flex-col md:flex-row gap-4'>

// æ¡ä»¶æ ·å¼
<Text className={`text-base ${completed ? 'line-through text-gray-500' : 'text-black'}`}>

// å°ç¨‹åºé€‚é…çš„ rpx å•ä½
<View className='text-[54.32rpx] bg-[#534312]'>
```

#### ç»„ä»¶æ ·å¼ç»„ç»‡

- **å…¨å±€æ ·å¼**: `src/app.scss`
- **ç»„ä»¶æ ·å¼**: å„ç»„ä»¶ç›®å½•ä¸‹çš„ `.sass` æ–‡ä»¶
- **Taroify æ ·å¼**: è‡ªåŠ¨å¯¼å…¥çš„ç»„ä»¶åº“æ ·å¼
- **TailwindCSS**: åŸå­åŒ–å·¥å…·ç±»

### è·¯ç”±é…ç½®

#### åº”ç”¨è·¯ç”±é…ç½® (`src/app.config.ts`)

```typescript
export default defineAppConfig({
  pages: ['pages/index/index'],
  subPackages: [
    {
      root: 'pages/examples',
      pages: ['counters', 'todoMVC', 'form/form'],
    },
  ],
  window: {
    backgroundTextStyle: 'light',
    navigationBarBackgroundColor: '#fff',
    navigationBarTitleText: 'WeChat',
    navigationBarTextStyle: 'black',
  },
})
```

**è·¯ç”±ç‰¹ç‚¹**ï¼š
- ä¸»åŒ…å’Œåˆ†åŒ…ç­–ç•¥
- é¡µé¢çº§é…ç½®æ”¯æŒ
- å¤šç«¯ç»Ÿä¸€çš„å¯¼èˆªé…ç½®

## ğŸš¢ å¤šç«¯æ„å»ºä¸éƒ¨ç½²

### æ”¯æŒçš„å¹³å°

é¡¹ç›®æ”¯æŒä»¥ä¸‹å¹³å°çš„æ„å»ºå’Œéƒ¨ç½²ï¼š

| å¹³å° | å‘½ä»¤ | è¾“å‡ºç›®å½• | ç‰¹æ®Šé…ç½® |
|------|------|----------|----------|
| **å¾®ä¿¡å°ç¨‹åº** | `pnpm build:weapp` | `dist/` | `project.config.json` |
| **H5** | `pnpm build:h5` | `dist/` | Webpack æ„å»º |
| **æ”¯ä»˜å®å°ç¨‹åº** | `pnpm build:alipay` | `dist/` | æ”¯ä»˜å®å¼€å‘è€…å·¥å…· |
| **å­—èŠ‚è·³åŠ¨å°ç¨‹åº** | `pnpm build:tt` | `dist/` | `project.tt.json` |
| **QQ å°ç¨‹åº** | `pnpm build:qq` | `dist/` | QQ å¼€å‘è€…å·¥å…· |
| **äº¬ä¸œå°ç¨‹åº** | `pnpm build:jd` | `dist/` | äº¬ä¸œå¼€å‘è€…å·¥å…· |
| **å¿«åº”ç”¨** | `pnpm build:quickapp` | `dist/` | å¿«åº”ç”¨å¼€å‘å·¥å…· |

### æ„å»ºæµç¨‹è¯¦è§£

#### 1. å¼€å‘ç¯å¢ƒæ„å»º

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
pnpm dev:h5

# å¾®ä¿¡å°ç¨‹åºå¼€å‘æ¨¡å¼
pnpm dev:weapp --watch
```

**å¼€å‘æ¨¡å¼ç‰¹æ€§**ï¼š
- çƒ­é‡è½½ (Hot Reload)
- æºç æ˜ å°„ (Source Map)
- å¼€å‘è€…å·¥å…·é›†æˆ
- å®æ—¶é”™è¯¯æç¤º
- GraphQL ä»£ç†é…ç½®

#### 2. ç”Ÿäº§ç¯å¢ƒæ„å»º

```bash
# H5 ç”Ÿäº§æ„å»º
pnpm build:h5

# å¾®ä¿¡å°ç¨‹åºç”Ÿäº§æ„å»º
pnpm build:weapp
```

**ç”Ÿäº§æ„å»ºä¼˜åŒ–**ï¼š
- ä»£ç å‹ç¼©å’Œæ··æ·†
- Tree Shaking ä¼˜åŒ–
- ä¾èµ–é¢„ç¼–è¯‘ (Prebundle)
- é™æ€èµ„æºä¼˜åŒ–
- åˆ†åŒ…ç­–ç•¥å®æ–½

#### 3. æ„å»ºé…ç½®å·®å¼‚

**å°ç¨‹åºæ„å»ºé…ç½®**ï¼š
```typescript
mini: {
  webpackChain(chain) {
    // TailwindCSS å°ç¨‹åºé€‚é…
    chain.merge({
      plugin: {
        install: {
          plugin: UnifiedWebpackPluginV5,
          args: [{
            disabled: WeappTailwindcssDisabled,
            rem2rpx: true,
          }],
        },
      },
    })
  },
}
```

**H5 æ„å»ºé…ç½®**ï¼š
```typescript
h5: {
  esnextModules: ['@taroify'],
  publicPath: '/',
  output: {
    filename: 'js/[name].[fullhash:8].js',
    chunkFilename: 'js/[name].[chunkhash:8].js',
  },
}
```

### éƒ¨ç½²æŒ‡å—

#### 1. å¾®ä¿¡å°ç¨‹åºéƒ¨ç½²

**æ­¥éª¤**ï¼š
1. æ‰§è¡Œæ„å»ºå‘½ä»¤ï¼š`pnpm build:weapp`
2. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
3. å¯¼å…¥ `dist` ç›®å½•
4. é…ç½® `project.config.json`
5. é¢„è§ˆå’Œä¸Šä¼ ä»£ç 

**é…ç½®æ–‡ä»¶**ï¼š
```json
{
  "miniprogramRoot": "dist/",
  "projectname": "taromine",
  "description": "Taro TodoMVC ç¤ºä¾‹é¡¹ç›®",
  "appid": "your-app-id",
  "setting": {
    "urlCheck": false,
    "es6": false,
    "enhance": true
  }
}
```

#### 2. H5 éƒ¨ç½²

**é™æ€éƒ¨ç½²**ï¼š
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build:h5

# éƒ¨ç½²åˆ°é™æ€æœåŠ¡å™¨
cp -r dist/* /var/www/html/
```

**Nginx é…ç½®ç¤ºä¾‹**ï¼š
```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /var/www/html;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    # GraphQL ä»£ç†
    location /graphql {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
    }
}
```

#### 3. æ”¯ä»˜å®å°ç¨‹åºéƒ¨ç½²

**æ­¥éª¤**ï¼š
1. æ„å»ºï¼š`pnpm build:alipay`
2. ä½¿ç”¨æ”¯ä»˜å®å¼€å‘è€…å·¥å…·å¯¼å…¥
3. é…ç½®åº”ç”¨ä¿¡æ¯
4. æäº¤å®¡æ ¸

#### 4. å…¶ä»–å¹³å°éƒ¨ç½²

**å­—èŠ‚è·³åŠ¨å°ç¨‹åº**ï¼š
- ä½¿ç”¨å­—èŠ‚è·³åŠ¨å¼€å‘è€…å·¥å…·
- é…ç½® `project.tt.json`
- éµå¾ªå­—èŠ‚è·³åŠ¨å°ç¨‹åºè§„èŒƒ

**QQ å°ç¨‹åº**ï¼š
- ä½¿ç”¨ QQ å¼€å‘è€…å·¥å…·
- é€‚é… QQ å°ç¨‹åºç‰¹æœ‰ API
- é…ç½®ç›¸åº”çš„é¡¹ç›®æ–‡ä»¶

### ç¯å¢ƒå˜é‡ç®¡ç†

#### å¤šç¯å¢ƒé…ç½®

```typescript
// config/dev.ts - å¼€å‘ç¯å¢ƒ
export default {
  defineConstants: {
    API_URL: '"http://localhost:3000"',
    ENV: '"development"'
  }
}

// config/prod.ts - ç”Ÿäº§ç¯å¢ƒ  
export default {
  defineConstants: {
    API_URL: '"https://api.yoursite.com"',
    ENV: '"production"'
  }
}
```

#### ä½¿ç”¨ç¯å¢ƒå˜é‡

```typescript
// åœ¨ä»£ç ä¸­ä½¿ç”¨
const apiUrl = process.env.API_URL
const isDev = process.env.ENV === 'development'
```

### CI/CD é›†æˆ

#### GitHub Actions ç¤ºä¾‹

```yaml
name: Build and Deploy

on:
  push:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v2
    
    - name: Setup Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '18'
        
    - name: Install pnpm
      run: npm install -g pnpm
      
    - name: Install dependencies
      run: pnpm install
      
    - name: Build H5
      run: pnpm build:h5
      
    - name: Build WeApp
      run: pnpm build:weapp
      
    - name: Deploy
      run: |
        # éƒ¨ç½²è„šæœ¬
        echo "Deploy to production"
```

### æ€§èƒ½ä¼˜åŒ–

#### æ„å»ºä¼˜åŒ–

- **ä¾èµ–é¢„ç¼–è¯‘**: å¯ç”¨ Webpack 5 çš„ prebundle åŠŸèƒ½
- **ä»£ç åˆ†å‰²**: åˆç†çš„åˆ†åŒ…ç­–ç•¥
- **Tree Shaking**: ç§»é™¤æœªä½¿ç”¨çš„ä»£ç 
- **å‹ç¼©ä¼˜åŒ–**: ç”Ÿäº§ç¯å¢ƒä»£ç å‹ç¼©

#### è¿è¡Œæ—¶ä¼˜åŒ–

- **ç»„ä»¶æ‡’åŠ è½½**: æŒ‰éœ€åŠ è½½é¡µé¢ç»„ä»¶
- **å›¾ç‰‡ä¼˜åŒ–**: ä½¿ç”¨é€‚å½“çš„å›¾ç‰‡æ ¼å¼å’Œå°ºå¯¸
- **ç¼“å­˜ç­–ç•¥**: åˆç†çš„ç¼“å­˜é…ç½®
- **åŒ…ä½“ç§¯æ§åˆ¶**: åˆ†åŒ…å’Œä¸»åŒ…å¤§å°æ§åˆ¶

## ğŸ“š å¼€å‘æœ€ä½³å®è·µ

### ä»£ç è§„èŒƒ

#### 1. TypeScript è§„èŒƒ

```typescript
// âœ… æ¨èï¼šæ˜ç¡®çš„ç±»å‹å®šä¹‰
interface UserInfo {
  id: string
  name: string
  avatar?: string
}

// âœ… æ¨èï¼šä½¿ç”¨ä¸¥æ ¼æ¨¡å¼
const getUserInfo = (id: string): Promise<UserInfo> => {
  return api.fetchUser(id)
}

// âŒ é¿å…ï¼šä½¿ç”¨ any ç±»å‹
const userData: any = response.data
```

#### 2. React ç»„ä»¶è§„èŒƒ

```tsx
// âœ… æ¨èï¼šå‡½æ•°ç»„ä»¶ + Hooks
interface Props {
  title: string
  onSubmit: (value: string) => void
}

const TodoInput: React.FC<Props> = ({ title, onSubmit }) => {
  const [value, setValue] = useState('')
  
  const handleSubmit = useCallback(() => {
    if (value.trim()) {
      onSubmit(value)
      setValue('')
    }
  }, [value, onSubmit])
  
  return (
    <View className="todo-input">
      <Input 
        value={value}
        onChange={setValue}
        placeholder={title}
      />
      <Button onClick={handleSubmit}>æäº¤</Button>
    </View>
  )
}
```

#### 3. Redux çŠ¶æ€ç®¡ç†è§„èŒƒ

```typescript
// âœ… æ¨èï¼šä½¿ç”¨ Redux Toolkit
export const todosSlice = createSlice({
  name: 'todos',
  initialState,
  reducers: {
    // ä½¿ç”¨ Immer è¿›è¡Œä¸å¯å˜æ›´æ–°
    addTodo: (state, action: PayloadAction<string>) => {
      state.push({
        id: nanoid(),
        text: action.payload,
        completed: false
      })
    }
  }
})

// âœ… æ¨èï¼šç±»å‹å®‰å…¨çš„é€‰æ‹©å™¨
export const selectActiveTodos = (state: RootState) => 
  state.todos.filter(todo => !todo.completed)
```

### æ ·å¼æœ€ä½³å®è·µ

#### 1. TailwindCSS ä½¿ç”¨è§„èŒƒ

```tsx
// âœ… æ¨èï¼šè¯­ä¹‰åŒ–çš„æ ·å¼ç»„åˆ
const Card = ({ children }: Props) => (
  <View className="bg-white rounded-lg shadow-md p-4 mb-4">
    {children}
  </View>
)

// âœ… æ¨èï¼šå“åº”å¼è®¾è®¡
<View className="flex flex-col md:flex-row gap-4">

// âœ… æ¨èï¼šæ¡ä»¶æ ·å¼
<Text className={clsx(
  'text-base transition-colors',
  completed && 'line-through text-gray-500',
  !completed && 'text-gray-900'
)}>
```

#### 2. å°ç¨‹åºæ ·å¼é€‚é…

```scss
// âœ… æ¨èï¼šä½¿ç”¨ rpx å•ä½è¿›è¡Œå°ç¨‹åºé€‚é…
.container {
  padding: 32rpx;
  font-size: 28rpx;
}

// âœ… æ¨èï¼šé¿å…ä½¿ç”¨å°ç¨‹åºä¸æ”¯æŒçš„ CSS å±æ€§
.card {
  // âŒ å°ç¨‹åºä¸æ”¯æŒ box-shadow
  // box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  
  // âœ… ä½¿ç”¨ border æ›¿ä»£
  border: 1px solid #e5e5e5;
}
```

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### 1. ç»„ä»¶ä¼˜åŒ–

```tsx
// âœ… æ¨èï¼šä½¿ç”¨ React.memo ä¼˜åŒ–é‡æ¸²æŸ“
const TodoItem = React.memo<Props>(({ todo, onToggle, onDelete }) => {
  return (
    <View className="todo-item">
      <Text>{todo.text}</Text>
      <Button onClick={() => onToggle(todo.id)}>åˆ‡æ¢</Button>
      <Button onClick={() => onDelete(todo.id)}>åˆ é™¤</Button>
    </View>
  )
})

// âœ… æ¨èï¼šä½¿ç”¨ useCallback ä¼˜åŒ–äº‹ä»¶å¤„ç†
const TodoList = () => {
  const todos = useAppSelector(selectTodos)
  const dispatch = useAppDispatch()
  
  const handleToggle = useCallback((id: string) => {
    dispatch(toggleTodo(id))
  }, [dispatch])
  
  const handleDelete = useCallback((id: string) => {
    dispatch(deleteTodo(id))
  }, [dispatch])
  
  return (
    <View>
      {todos.map(todo => (
        <TodoItem
          key={todo.id}
          todo={todo}
          onToggle={handleToggle}
          onDelete={handleDelete}
        />
      ))}
    </View>
  )
}
```

#### 2. å›¾ç‰‡å’Œèµ„æºä¼˜åŒ–

```tsx
// âœ… æ¨èï¼šä½¿ç”¨é€‚å½“çš„å›¾ç‰‡æ ¼å¼å’Œå°ºå¯¸
<Image 
  src="avatar.webp"
  className="w-20 h-20 rounded-full"
  mode="aspectFill"
  lazyLoad
/>

// âœ… æ¨èï¼šé¢„åŠ è½½å…³é”®èµ„æº
useEffect(() => {
  Taro.preloadPage({
    url: '/pages/detail/index'
  })
}, [])
```

### é”™è¯¯å¤„ç†å’Œè°ƒè¯•

#### 1. é”™è¯¯è¾¹ç•Œ

```tsx
// âœ… æ¨èï¼šä½¿ç”¨é”™è¯¯è¾¹ç•Œå¤„ç†ç»„ä»¶é”™è¯¯
class ErrorBoundary extends Component<Props, State> {
  constructor(props: Props) {
    super(props)
    this.state = { hasError: false }
  }

  static getDerivedStateFromError(error: Error): State {
    return { hasError: true }
  }

  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('ç»„ä»¶é”™è¯¯:', error, errorInfo)
    // å¯ä»¥å°†é”™è¯¯ä¿¡æ¯å‘é€åˆ°é”™è¯¯ç›‘æ§æœåŠ¡
  }

  render() {
    if (this.state.hasError) {
      return <View className="error-fallback">å‡ºç°äº†ä¸€äº›é—®é¢˜</View>
    }

    return this.props.children
  }
}
```

#### 2. è°ƒè¯•æŠ€å·§

```typescript
// âœ… æ¨èï¼šä½¿ç”¨ Redux DevTools
export const store = configureStore({
  reducer: rootReducer,
  devTools: process.env.NODE_ENV !== 'production'
})

// âœ… æ¨èï¼šæ·»åŠ è°ƒè¯•ä¿¡æ¯
const TodoList = () => {
  const todos = useAppSelector(selectTodos)
  
  useEffect(() => {
    if (process.env.NODE_ENV === 'development') {
      console.log('å½“å‰ todos:', todos)
    }
  }, [todos])
  
  return <View>{/* ç»„ä»¶å†…å®¹ */}</View>
}
```

### å¤šç«¯å…¼å®¹æ€§

#### 1. å¹³å°å·®å¼‚å¤„ç†

```tsx
import Taro from '@tarojs/taro'

const ShareButton = () => {
  const handleShare = () => {
    if (process.env.TARO_ENV === 'weapp') {
      // å¾®ä¿¡å°ç¨‹åºåˆ†äº«
      Taro.showShareMenu()
    } else if (process.env.TARO_ENV === 'h5') {
      // H5 åˆ†äº«
      navigator.share?.({
        title: 'åˆ†äº«æ ‡é¢˜',
        url: window.location.href
      })
    }
  }
  
  return <Button onClick={handleShare}>åˆ†äº«</Button>
}
```

#### 2. API å…¼å®¹æ€§

```typescript
// âœ… æ¨èï¼šä½¿ç”¨ Taro ç»Ÿä¸€ API
const getUserInfo = async () => {
  try {
    const userInfo = await Taro.getUserInfo()
    return userInfo
  } catch (error) {
    console.error('è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:', error)
    return null
  }
}

// âœ… æ¨èï¼šæ£€æŸ¥ API å¯ç”¨æ€§
const showToast = (message: string) => {
  if (Taro.showToast) {
    Taro.showToast({
      title: message,
      icon: 'none'
    })
  } else {
    // H5 é™çº§å¤„ç†
    alert(message)
  }
}
```

### å›¢é˜Ÿåä½œ

#### 1. Git å·¥ä½œæµ

```bash
# âœ… æ¨èï¼šä½¿ç”¨è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯
git commit -m "feat: æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½"
git commit -m "fix: ä¿®å¤ Todo åˆ é™¤æŒ‰é’®æ ·å¼é—®é¢˜"
git commit -m "docs: æ›´æ–° README æ–‡æ¡£"

# âœ… æ¨èï¼šåŠŸèƒ½åˆ†æ”¯å¼€å‘
git checkout -b feature/user-profile
git checkout -b bugfix/todo-input-validation
```

#### 2. ä»£ç å®¡æŸ¥æ¸…å•

- [ ] ä»£ç æ˜¯å¦éµå¾ªé¡¹ç›®è§„èŒƒï¼Ÿ
- [ ] æ˜¯å¦æœ‰é€‚å½“çš„ç±»å‹å®šä¹‰ï¼Ÿ
- [ ] æ˜¯å¦å¤„ç†äº†é”™è¯¯æƒ…å†µï¼Ÿ
- [ ] æ˜¯å¦è€ƒè™‘äº†å¤šç«¯å…¼å®¹æ€§ï¼Ÿ
- [ ] æ˜¯å¦æœ‰å¿…è¦çš„æµ‹è¯•ï¼Ÿ
- [ ] æ€§èƒ½æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Ÿ
- [ ] UI æ˜¯å¦ç¬¦åˆè®¾è®¡è§„èŒƒï¼Ÿ

## âš ï¸ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### æ„å»ºé—®é¢˜

#### 1. TailwindCSS æ ·å¼ä¸ç”Ÿæ•ˆ

**é—®é¢˜**: å°ç¨‹åºä¸­ TailwindCSS æ ·å¼æ— æ³•æ­£å¸¸æ˜¾ç¤º

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ç¡®ä¿æ­£ç¡®å®‰è£… weapp-tailwindcss
pnpm add weapp-tailwindcss

# æ£€æŸ¥ postcss.config.mjs é…ç½®
# ç¡®ä¿ postinstall è„šæœ¬æ‰§è¡Œ
pnpm postinstall
```

#### 2. GraphQL ä»£ç ç”Ÿæˆå¤±è´¥

**é—®é¢˜**: `pnpm codegen` å‘½ä»¤æ‰§è¡Œå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ GraphQL æœåŠ¡æ˜¯å¦è¿è¡Œ
curl http://localhost:3000/graphql

# æ›´æ–° codegen é…ç½®
# ç¡®ä¿ schema åœ°å€æ­£ç¡®
```

#### 3. å°ç¨‹åºåŒ…ä½“ç§¯è¿‡å¤§

**é—®é¢˜**: å°ç¨‹åºä¸»åŒ…æˆ–åˆ†åŒ…ä½“ç§¯è¶…å‡ºé™åˆ¶

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// ä¼˜åŒ–åˆ†åŒ…ç­–ç•¥
export default defineAppConfig({
  subPackages: [
    {
      root: 'pages/features',
      pages: ['detail', 'settings'],
      // ç‹¬ç«‹åˆ†åŒ…
      independent: true
    }
  ]
})

// ç§»é™¤æœªä½¿ç”¨çš„ä¾èµ–
// å¯ç”¨ Tree Shaking
```

### è¿è¡Œæ—¶é—®é¢˜

#### 1. çŠ¶æ€æ›´æ–°ä¸åŠæ—¶

**é—®é¢˜**: Redux çŠ¶æ€æ›´æ–°åç»„ä»¶æœªé‡æ–°æ¸²æŸ“

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// æ£€æŸ¥é€‰æ‹©å™¨æ˜¯å¦æ­£ç¡®
const todos = useAppSelector(state => state.todos) // âœ…
const todos = useAppSelector(state => state.todo)  // âŒ æ‹¼å†™é”™è¯¯

// ç¡®ä¿ä½¿ç”¨ä¸å¯å˜æ›´æ–°
// ä½¿ç”¨ Redux Toolkit è‡ªåŠ¨å¤„ç†
```

#### 2. å°ç¨‹åºæˆæƒé—®é¢˜

**é—®é¢˜**: è·å–ç”¨æˆ·ä¿¡æ¯æ—¶æˆæƒå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```typescript
const getUserProfile = async () => {
  try {
    // å…ˆæ£€æŸ¥æˆæƒçŠ¶æ€
    const authSetting = await Taro.getSetting()
    
    if (!authSetting.authSetting['scope.userInfo']) {
      // å¼•å¯¼ç”¨æˆ·æˆæƒ
      await Taro.authorize({ scope: 'scope.userInfo' })
    }
    
    const userInfo = await Taro.getUserInfo()
    return userInfo
  } catch (error) {
    console.error('æˆæƒå¤±è´¥:', error)
    // æ˜¾ç¤ºæˆæƒå¼•å¯¼
  }
}
```

### æ ·å¼é—®é¢˜

#### 1. è·¨å¹³å°æ ·å¼å·®å¼‚

**é—®é¢˜**: åŒä¸€ç»„ä»¶åœ¨ä¸åŒå¹³å°æ˜¾ç¤ºæ•ˆæœä¸ä¸€è‡´

**è§£å†³æ–¹æ¡ˆ**:
```scss
// ä½¿ç”¨å¹³å°ç‰¹å®šæ ·å¼
.button {
  padding: 16px;
  
  // å°ç¨‹åºç‰¹å®šæ ·å¼
  @media (prefers-color-scheme: miniprogram) {
    padding: 32rpx;
  }
}

// æˆ–ä½¿ç”¨æ¡ä»¶ç¼–è¯‘
/* #ifdef H5 */
.h5-only {
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
/* #endif */
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **Taro å®˜æ–¹æ–‡æ¡£**: https://taro-docs.jd.com/
- **Taroify ç»„ä»¶åº“**: https://taroify.gitee.io/taroify.com/
- **TailwindCSS æ–‡æ¡£**: https://tailwindcss.com/
- **weapp-tailwindcss**: https://tw.icebreaker.top/

---

æ­¤æ–‡æ¡£æ¶µç›–äº†é¡¹ç›®çš„å®Œæ•´æŠ€æœ¯æ ˆã€å¼€å‘æµç¨‹å’Œæœ€ä½³å®è·µã€‚å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒç›¸å…³å®˜æ–¹æ–‡æ¡£æˆ–æäº¤ Issueã€‚

